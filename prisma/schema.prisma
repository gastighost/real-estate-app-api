// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model User {
  id                String     @id @default(auto()) @map("_id") @db.ObjectId
  username          String     @unique
  password          String
  email             String     @unique
  phone             String
  propertiesForSale Property[] @relation("seller")
  propertiesBought  Property[] @relation("buyer")
}

model Property {
  id          String     @id @default(auto()) @map("_id") @db.ObjectId
  name        String
  photoUrl    String?
  houseNumber Int
  street      String
  suburb      String
  zipcode     Int
  sellStatus  SellStatus
  price       Float
  postDate    DateTime
  rooms       Int
  bathrooms   Int
  parking     Boolean
  floors      Int
  sqm         Float
  seller      User       @relation("seller", fields: [sellerId], references: [id])
  sellerId    String     @db.ObjectId
  buyer       User?      @relation("buyer", fields: [buyerId], references: [id])
  buyerId     String?    @db.ObjectId
}

enum SellStatus {
  SALE
  RENT
}
